{%- macro make_div(data) %}
	{%- for item in data %}
		{%- if item.type in ("row","col") %}
			<div class={{item.type}} style="
				{%- if item.type == 'row' %}
					height
				{%- else %}
					width
				{%- endif %}
				:{{(item.size*100)~'%'}}">
				{{ make_div(item.content) }}
			</div>
		{%- else %}
			{{ gen_content(item) }}
		{%- endif %}
	{%- endfor %}
{%- endmacro -%}

{%- macro gen_content(data) %}
	{%- if data.type == "colour" %}
		<div class="fill" class={{data.type}} style="background-color: {{data.content}};"></div>
	{%- endif %}
	{%- if data.type == "text" %}
		<div class="text center">
			<h1>{{data.content}}</h1>
		</div>
	{%- endif %}
	{%- if data.type == "scrolling" %}
		<div class="scrolling">
  			<div class="marquee">
			    <p>{{data.content}}{{data.content}}</p>
		  	</div>
		</div>
	{%- endif%}
	{%- if data.type == "scrolling vertical" %}
		<div class="scrolling-vertical">
		</div>
	{%- endif %}
	{%- if data.type == "image" %}
		<div class="image" style="position: absolute; top: 50%; transform: translateY(-50%);">
			<img src="../{{data.content}}" style="max-width:100%; max-height:100%;">
		</div>
	{%- endif %}
	{%- if data.type == "slideshow" %}
		<div class="slideshow-container" style="position: absolute; top: 50%; transform: translateY(-50%);">
			{%- for image in data.content %}
				<div class="mySlides fade">
				  <img src={{"../"~image}} style="width:100%">
				</div>
			{%- endfor %}
		</div>
	{%- endif %}
{%- endmacro -%}

<!doctype html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Display Window</title>
		<link rel="stylesheet" href="styles.css">
<script src="../main.js"></script>
	</head>
	<body>
		<div class="wrapper">
			{{ make_div(contents) }}
		</div>
	</body>
</html>