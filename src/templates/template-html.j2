{% extends "base.html" -%}

{%- macro make_div(data) %}
	{%- for item in data %}
		{%- if item.type in ("row","col") %}
			<div class={{item.type}} 
				 style="{%- if item.type == 'row' -%}
							height
						{%- else -%}
							width
						{%- endif -%}
						: {{item.size*100}}%">
				{{ make_div(item.content) }}
			</div>
		{%- else %}
			{{ gen_content(item) }}
		{%- endif %}
	{%- endfor %}
{%- endmacro -%}

{%- macro gen_content(data) %}
	{%- if data.type == "colour" %}
		<div class="fill {{data.type}}" style="background-color: {{data.content}};"></div>
	{%- endif %}
	{%- if data.type == "text" %}
		<div class="text center">
			<p style="{% for key, value in data.settings.items() -%}
						{{key}}: {{value}};
					 {%- endfor %}">{{data.content}}</p>
		</div>
	{%- endif %}
	{%- if data.type == "scrolling horizontal" %}
		<div class="scrolling-horizontal">
  			<div class="marquee" style="animation: marquee {{data.settings['speed']}}s linear infinite;">
			    <p>{{data.content}}{{data.content}}</p>
		  	</div>
		</div>
	{%- endif %}
	{%- if data.type == "scrolling vertical" %}
		<div class="scrolling-vertical">
		</div>
	{%- endif %}
	{%- if data.type == "image" %}
		<div class="image">
			<img src="../{{data.content}}">
		</div>
	{%- endif %}
	{%- if data.type == "slideshow" %}
		<div class="slideshow-container">
			{%- for image in data.content %}
				<div class="slides fade" {% if loop.first %}style="display: block;"{% endif %}>
				  <img src="../{{image}}">
				</div>
			{%- endfor %}
		</div>
	{%- endif %}
{%- endmacro -%}